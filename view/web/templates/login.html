<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8"><title>Investment Login</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <style>
        .login-container { display: flex; justify-content: center; align-items: center; height: 100vh; }
        .login-card { background: var(--bg-secondary); padding: 40px; border-radius: 15px; width: 350px; text-align: center; }
        input { width: 100%; padding: 12px; margin: 10px 0; border-radius: 5px; border: 1px solid var(--border); background: var(--bg-primary); color: white; }
    </style>
</head>
<body>
    <div class="login-container">
        <div class="login-card">
            <h2 style="color: var(--accent); margin-bottom: 20px;">Kyungsoo's Trading App</h2>
            <input type="text" id="username" placeholder="아이디">
            <input type="password" id="password" placeholder="비밀번호">
            <button class="btn" style="width: 100%; margin-top: 20px;" onclick="doLogin()">로그인</button>
            <p id="msg" style="color: var(--negative); margin-top: 15px; font-size: 0.9em;"></p>
        </div>
    </div>
    <script>
        async function doLogin() {
            const formData = new FormData();
            formData.append('username', document.getElementById('username').value);
            formData.append('password', document.getElementById('password').value);
            
            const res = await fetch('/api/auth/login', { method: 'POST', body: formData });
            const data = await res.json();
            if (res.ok && data.success) {
                location.href = '/'; // 메인 페이지로 이동
            } else {
                document.getElementById('msg').innerText = data.msg;
            }
        }
    </script>
</body>
</html>